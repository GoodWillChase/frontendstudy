<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
	   div {
	   	  width: 60px;
	   	  height: 60px;
	   	  float: right;
	   	  background: skyblue;
	   	  margin-right: 12px;
	   }
	</style>
</head>
<body>
	<div>1</div>
	<div>2</div>
	<div>3</div>
	<div></div>
	<div></div>
	<div></div>
	<script type="text/javascript">
	   // 单击每个div 让当前div背景色变红
	   // 1 先找到所有div
	   var divs = document.getElementsByTagName("div");
	   // 2 分别给每个div绑定事件
	   for(var i=0; i<divs.length; i++) {
	   	   divs[i].onclick = function() {
	   	   	   // 改变当前div的背景色
	   	   	   /* divs[i].style.backgroundColor = "red";
                  上面会报错
                  闭包的影响:匿名函数定义的时候，已经记住了自己认识i,但是认识i不是说把i值赋值一份记住,而真正认识有生命的i
	   	   	   */
	   	   	   // 解决方案一 此处this代表当前事件源
	   	   	   this.style.backgroundColor = "red";
	   	   }
	   }


	   /*
	   for(var i=0; i<divs.length; i++) {
	   	      // 解决方案二 IIFE
	   	      (function(m) {
                 divs[m].onclick = function() {
                 	divs[m].style.backgroundColor = "red";
                 }
	   	      })(i);
	   }*/


	   // 解决方案三 强制添加属性方法
	   /*
	   for(var i=0; i<divs.length; i++) {
	    	divs[i].index = i; 
	    	// 设置监听
	    	divs[i].onclick = function() {
	    		 divs[this.index].style.backgroundColor = "yellow";
	    	}
	    } 
		*/
	    // 假如我单击了第二个div divs[1].style.backgroundColor = "red";




	</script>
</body>
</html>